
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Rar - </title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#format" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="" class="md-header__button md-logo" aria-label="" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Rar
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../community/" class="md-tabs__link">
          
  
  
  Community

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../contributions_mediawiki/" class="md-tabs__link">
          
  
  
  Contributions

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../tags/" class="md-tabs__link">
          
  
  
  Tags

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="" class="md-nav__button md-logo" aria-label="" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Community
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Community
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../community/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Community
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Contributions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Contributions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributions_mediawiki/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributions Mediawiki
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tags
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tags
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tags
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#format" class="md-nav__link">
    <span class="md-ellipsis">
      Format
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rar-file-format" class="md-nav__link">
    <span class="md-ellipsis">
      RAR File Format
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#block-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Block Formats
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Block Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#marker-block-mark_head" class="md-nav__link">
    <span class="md-ellipsis">
      Marker Block (MARK_HEAD)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#archive-header-main_head" class="md-nav__link">
    <span class="md-ellipsis">
      Archive Header (MAIN_HEAD)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-header-file-in-archive" class="md-nav__link">
    <span class="md-ellipsis">
      File Header (File in Archive)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#terminator-terminator" class="md-nav__link">
    <span class="md-ellipsis">
      Terminator (terminator)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sub-formats" class="md-nav__link">
    <span class="md-ellipsis">
      Sub-formats
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#software" class="md-nav__link">
    <span class="md-ellipsis">
      Software
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    <span class="md-ellipsis">
      See Also
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <nav class="md-tags" >
    
      
      
      
        <a href="../tags/#tag:archive" class="md-tag">Archive</a>
      
    
      
      
      
        <a href="../tags/#tag:file-formats" class="md-tag">File Formats</a>
      
    
  </nav>



  <h1>Rar</h1>

<p>RAR Archives (<strong>R</strong>oshal <strong>AR</strong>chive file format) are a proprietary
format for storing information created by Eugene Roshal. The format is
currently handled by Alexander Roshal, Eugene's brother.</p>
<h2 id="format">Format</h2>
<p>The file has the magic number of:</p>
<pre><code>0x 52 61 72 21 1A 07 00
</code></pre>
<p>Which is a break down of the following to describe an Archive Header:</p>
<p>:* 0x6152 - HEAD_CRC</p>
<p>:* 0x72 - HEAD_TYPE</p>
<p>:* 0x1A21 - HEAD_FLAGS</p>
<p>:* 0x0007 - HEAD_SIZE</p>
<p>Older versions of the RAR file format have a magic number of :</p>
<pre><code>0x 52 45 7E 5E
</code></pre>
<p>This format will not be discussed as documentation cannot be found.</p>
<hr />
<h3 id="rar-file-format">RAR File Format</h3>
<p>Each Block has the following fields:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Size (bytes)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>HEAD_CRC</td>
<td>2</td>
<td>CRC of total block or block part</td>
</tr>
<tr>
<td>HEAD_TYPE</td>
<td>1</td>
<td>Block type</td>
</tr>
<tr>
<td>HEAD_FLAGS</td>
<td>2</td>
<td>Block flags</td>
</tr>
<tr>
<td>HEAD_SIZE</td>
<td>2</td>
<td>Block size</td>
</tr>
<tr>
<td>ADD_SIZE</td>
<td>4</td>
<td>Optional field - added block size</td>
</tr>
</tbody>
</table>
<p>Block Fields</p>
<p>The field ADD_SIZE present only if (HEAD_FLAGS &amp; 0x8000) != 0.</p>
<p>Total block size is HEAD_SIZE if (HEAD_FLAGS &amp; 0x8000) == 0 and
HEAD_SIZE+ADD_SIZE if the field ADD_SIZE is present - when (HEAD_FLAGS &amp;
0x8000) != 0.</p>
<p>In each block the followings bits in HEAD_FLAGS have the same meaning:</p>
<ul>
<li>0x4000 - if set, older RAR versions will ignore the block and remove
  it when the archive is updated. If clear, the block is copied to the
  new archive file when the archive is updated;</li>
<li>0x8000 - if set, ADD_SIZE field is present and the full block size is
  HEAD_SIZE+ADD_SIZE.</li>
</ul>
<hr />
<p>There are certain block types:</p>
<table>
<thead>
<tr>
<th>Head Type Signifier</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>HEAD_TYPE=0x72</td>
<td>marker block</td>
</tr>
<tr>
<td>HEAD_TYPE=0x73</td>
<td>archive header</td>
</tr>
<tr>
<td>HEAD_TYPE=0x74</td>
<td>file header</td>
</tr>
<tr>
<td>HEAD_TYPE=0x75</td>
<td>old style comment header</td>
</tr>
<tr>
<td>HEAD_TYPE=0x76</td>
<td>old style authenticity information</td>
</tr>
<tr>
<td>HEAD_TYPE=0x77</td>
<td>old style subblock</td>
</tr>
<tr>
<td>HEAD_TYPE=0x78</td>
<td>old style recovery record</td>
</tr>
<tr>
<td>HEAD_TYPE=0x79</td>
<td>old style authenticity information</td>
</tr>
<tr>
<td>HEAD_TYPE=0x7a</td>
<td>subblock</td>
</tr>
<tr>
<td>HEAD_TYPE=0x7b</td>
<td>terminator</td>
</tr>
</tbody>
</table>
<p>Block Types</p>
<hr />
<h3 id="block-formats">Block Formats</h3>
<p>There are several block formats that are contained within a RAR file.
They are Marker Block, Archive Header, and File Header.</p>
<hr />
<h4 id="marker-block-mark_head">Marker Block (MARK_HEAD)</h4>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Size (bytes)</th>
<th>Possibilities</th>
</tr>
</thead>
<tbody>
<tr>
<td>HEAD_CRC</td>
<td>2</td>
<td>Always 0x6152</td>
</tr>
<tr>
<td>HEAD_TYPE</td>
<td>1</td>
<td>Header type: 0x72</td>
</tr>
<tr>
<td>HEAD_FLAGS</td>
<td>2</td>
<td>Always 0x1A21</td>
</tr>
<tr>
<td>HEAD_SIZE</td>
<td>2</td>
<td>Block size = 0x0007</td>
</tr>
</tbody>
</table>
<p>MARK_HEAD</p>
<ul>
<li>Note: the marker block is considered a fixed byte sequence (AKA, magic
  number) of: 0x52 0x61 0x72 0x21 0x1A 0x07 0x00 (which is seen as 'Rar!
  ').</li>
</ul>
<hr />
<h4 id="archive-header-main_head">Archive Header (MAIN_HEAD)</h4>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Size (bytes)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>HEAD_CRC</td>
<td>2</td>
<td>CRC of fields HEAD_TYPE to RESERVED2</td>
</tr>
<tr>
<td>HEAD_TYPE</td>
<td>1</td>
<td>Header Type: 0x73</td>
</tr>
<tr>
<td>HEAD_FLAGS</td>
<td>2</td>
<td>Bit Flags (Please see 'Bit Flags for MAIN_HEAD' table for all possibilities).</td>
</tr>
<tr>
<td>HEAD_SIZE</td>
<td>2</td>
<td>Archive header total size including archive comments</td>
</tr>
<tr>
<td>RESERVED1</td>
<td>2</td>
<td>RESERVED</td>
</tr>
<tr>
<td>RESERVED2</td>
<td>4</td>
<td>RESERVED</td>
</tr>
</tbody>
</table>
<p>MAIN_HEAD</p>
<table>
<thead>
<tr>
<th>Flag (0x)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0001</td>
<td>Volume attribute (archive volume)</td>
</tr>
<tr>
<td>0002</td>
<td>Archive comment present RAR 3.x uses the separate comment block and does not set this flag.</td>
</tr>
<tr>
<td>0004</td>
<td>Archive lock attribute</td>
</tr>
<tr>
<td>0008</td>
<td>Solid attribute (solid archive)</td>
</tr>
<tr>
<td>0010</td>
<td>New volume naming scheme ('volname.partN.rar')</td>
</tr>
<tr>
<td>0020</td>
<td>Authenticity information present RAR 3.x does not set this flag.</td>
</tr>
<tr>
<td>0040</td>
<td>Recovery record present</td>
</tr>
<tr>
<td>0080</td>
<td>Block headers are encrypted</td>
</tr>
<tr>
<td>0100</td>
<td>First volume (set only by RAR 3.0 and later)</td>
</tr>
</tbody>
</table>
<p>Bit Flags for MAIN_HEAD</p>
<ul>
<li>Other bits in HEAD_FLAGS are reserved for internal use.</li>
</ul>
<hr />
<h4 id="file-header-file-in-archive">File Header (File in Archive)</h4>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Size (bytes)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>HEAD_CRC</td>
<td>2</td>
<td>CRC of fields from HEAD_TYPE to FILEATTR and file name</td>
</tr>
<tr>
<td>HEAD_TYPE</td>
<td>1</td>
<td>Header Type: 0x74</td>
</tr>
<tr>
<td>HEAD_FLAGS</td>
<td>2</td>
<td>Bit Flags (Please see 'Bit Flags for File in Archive' table for all possibilities)</td>
</tr>
<tr>
<td>HEAD_SIZE</td>
<td>2</td>
<td>File header full size including file name and comments</td>
</tr>
<tr>
<td>PACK_SIZE</td>
<td>4</td>
<td>Compressed file size</td>
</tr>
<tr>
<td>UNP_SIZE</td>
<td>4</td>
<td>Uncompressed file size</td>
</tr>
<tr>
<td>HOST_OS</td>
<td>1</td>
<td>Operating system used for archiving (See the 'Operating System Indicators' table for the flags used)</td>
</tr>
<tr>
<td>FILE_CRC</td>
<td>4</td>
<td>File CRC</td>
</tr>
<tr>
<td>FTIME</td>
<td>4</td>
<td>Date and time in standard MS DOS format</td>
</tr>
<tr>
<td>UNP_VER</td>
<td>1</td>
<td>RAR version needed to extract file (Version number is encoded as 10 * Major version + minor version.)</td>
</tr>
<tr>
<td>METHOD</td>
<td>1</td>
<td>Packing method (Please see 'Packing Method' table for all possibilities</td>
</tr>
<tr>
<td>NAME_SIZE</td>
<td>2</td>
<td>File name size</td>
</tr>
<tr>
<td>ATTR</td>
<td>4</td>
<td>File attributes</td>
</tr>
<tr>
<td>HIGH_PACK_SIZE</td>
<td>4</td>
<td>High 4 bytes of 64-bit value of compressed file size. Optional value, presents only if bit 0x100 in HEAD_FLAGS is set.</td>
</tr>
<tr>
<td>HIGH_UNP_SIZE</td>
<td>4</td>
<td>High 4 bytes of 64-bit value of uncompressed file size. Optional value, presents only if bit 0x100 in HEAD_FLAGS is set.</td>
</tr>
<tr>
<td>FILE_NAME</td>
<td>NAME_SIZE bytes</td>
<td>File name - string of NAME_SIZE bytes size</td>
</tr>
<tr>
<td>SALT</td>
<td>8</td>
<td>present if (HEAD_FLAGS &amp; 0x400) != 0</td>
</tr>
<tr>
<td>EXT_TIME</td>
<td>variable size</td>
<td>present if (HEAD_FLAGS &amp; 0x1000) != 0</td>
</tr>
</tbody>
</table>
<p>File Header</p>
<ul>
<li>other new fields may appear here.</li>
</ul>
<table>
<thead>
<tr>
<th>Flag (0x)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>01</td>
<td>File continued from previous volume</td>
</tr>
<tr>
<td>02</td>
<td>File continued in next volume</td>
</tr>
<tr>
<td>04</td>
<td>File encrypted with password</td>
</tr>
<tr>
<td>08</td>
<td>File comment present. RAR 3.x uses the separate comment block and does not set this flag.</td>
</tr>
<tr>
<td>10</td>
<td>Information from previous files is used (solid flag) (for RAR 2.0 and later)</td>
</tr>
<tr>
<td>Dictionary bits 7 6 5 (for RAR 2.0 and later)</td>
<td>Please see the 'Dictionary Bits' table for this descriptions</td>
</tr>
<tr>
<td>100</td>
<td>HIGH_PACK_SIZE and HIGH_UNP_SIZE fields are present. These fields are used to archive only very large files (larger than 2Gb), for smaller files these fields are absent.</td>
</tr>
<tr>
<td>200</td>
<td>FILE_NAME contains both usual and encoded Unicode name separated by zero. In this case NAME_SIZE field is equal to the length of usual name plus encoded Unicode name plus 1. If this flag is present, but FILE_NAME does not contain zero bytes, it means that file name is encoded using UTF-8.</td>
</tr>
<tr>
<td>400</td>
<td>The header contains additional 8 bytes after the file name, which are required to increase encryption security (so called 'salt').</td>
</tr>
<tr>
<td>800</td>
<td>Version flag. It is an old file version, a version number is appended to file name as ';n'.</td>
</tr>
<tr>
<td>1000</td>
<td>Extended time field present.</td>
</tr>
<tr>
<td>8000</td>
<td>This bit always is set, so the complete block size is HEAD_SIZE + PACK_SIZE (and plus HIGH_PACK_SIZE, if bit 0x100 is set)</td>
</tr>
</tbody>
</table>
<p>Bit Flags for Files in Archive</p>
<table>
<thead>
<tr>
<th>Bits (7 6 5)</th>
<th>Description</th>
<th>Size (KB)</th>
</tr>
</thead>
<tbody>
<tr>
<td>0 0 0</td>
<td>Dictionary Size</td>
<td>64</td>
</tr>
<tr>
<td>0 0 1</td>
<td>Dictionary Size</td>
<td>128</td>
</tr>
<tr>
<td>0 1 0</td>
<td>Dictionary Size</td>
<td>256</td>
</tr>
<tr>
<td>0 1 1</td>
<td>Dictionary Size</td>
<td>512</td>
</tr>
<tr>
<td>1 0 0</td>
<td>Dictionary Size</td>
<td>1024</td>
</tr>
<tr>
<td>1 0 1</td>
<td>Dictionary Size</td>
<td>2048</td>
</tr>
<tr>
<td>1 1 0</td>
<td>Dictionary Size</td>
<td>4096</td>
</tr>
<tr>
<td>1 1 1</td>
<td>file is a directory</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<p>Dictionary Bits</p>
<table>
<thead>
<tr>
<th>Byte Indicator</th>
<th>Operating System</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>MS DOS</td>
</tr>
<tr>
<td>1</td>
<td>OS/2</td>
</tr>
<tr>
<td>2</td>
<td>Windows</td>
</tr>
<tr>
<td>3</td>
<td>Unix</td>
</tr>
<tr>
<td>4</td>
<td>Mac OS</td>
</tr>
<tr>
<td>5</td>
<td>BeOS</td>
</tr>
</tbody>
</table>
<p>Operating System Indicators</p>
<table>
<thead>
<tr>
<th>Byte Indicator</th>
<th>Method</th>
</tr>
</thead>
<tbody>
<tr>
<td>0x30</td>
<td>Storing</td>
</tr>
<tr>
<td>0x31</td>
<td>Fastest Compression</td>
</tr>
<tr>
<td>0x32</td>
<td>Fast Compression</td>
</tr>
<tr>
<td>0x33</td>
<td>Normal Compression</td>
</tr>
<tr>
<td>0x34</td>
<td>Good Compression</td>
</tr>
<tr>
<td>0x35</td>
<td>Best Compression</td>
</tr>
</tbody>
</table>
<p>Packing Method</p>
<hr />
<h4 id="terminator-terminator">Terminator (terminator)</h4>
<p>There is often a terminating block present.</p>
<table>
<thead>
<tr>
<th>Field Name</th>
<th>Size (bytes)</th>
<th>Possibilities</th>
</tr>
</thead>
<tbody>
<tr>
<td>HEAD_CRC</td>
<td>2</td>
<td>Always 0x3DC4</td>
</tr>
<tr>
<td>HEAD_TYPE</td>
<td>1</td>
<td>Header type: 0x7b</td>
</tr>
<tr>
<td>HEAD_FLAGS</td>
<td>2</td>
<td>Always 0x4000</td>
</tr>
<tr>
<td>HEAD_SIZE</td>
<td>2</td>
<td>Block size = 0x0007</td>
</tr>
</tbody>
</table>
<p>terminator</p>
<p>As such, it is possible to use the terminator as a footer when carving,
although, as always, file fragmentation should be considered.</p>
<pre><code>0x C4 3D 7B 00 40 07 00
</code></pre>
<hr />
<h2 id="metadata">Metadata</h2>
<h2 id="sub-formats">Sub-formats</h2>
<p>The RAR format is comprised of many sub-formats that have changed over
the years. The different formats and their descriptions are as follows:</p>
<p>:* 1.3 (Does not have the RAR! signature)</p>
<p>:** There is difficulty finding information regarding this sub-format.
Please update if you know something.</p>
<p>:* 1.5</p>
<p>:** Utilizes a proprietary compression method that is not available to
the public.</p>
<p>:** Considered the root model of subsequent formats.</p>
<p>:* 2.0</p>
<p>:** Utilizes a proprietary compression method that is not available to
the public.</p>
<p>:** Based off of version 1.5 of the RAR file format.</p>
<p>:* 3.0</p>
<p>:** Utilizes the
<a href="https://en.wikipedia.org/wiki/Prediction_by_Partial_Matching">PPMII</a> and
<a href="https://en.wikipedia.org/wiki/LZ77_and_LZ78">Lempel-Ziv (LZSS)</a>]
algorithms.</p>
<p>:** Encryption now uses cipher block chaining (CBC) instead of
Advanced Encryption Standard (AES).</p>
<p>:** Based off of version 1.5 of the RAR file format.</p>
<h2 id="software">Software</h2>
<p>This only way to create a RAR file is using the <a href="https://www.rarlab.com/">Winrar
software</a>. There are several implementations of
the process to open a RAR file (commonly known as the "unrar" process).
Some of them are:</p>
<p>unrarLib</p>
<p>:* RAR file unarchiver written in C</p>
<p>:* Easy implementation with a header file and the source code file</p>
<p>:* Only works with RAR files up to version 2.0</p>
<p>:* <a href="https://www.unrarlib.org/">Information Link</a></p>
<p>WinRAR</p>
<p>:* Only software that can create and open a RAR file</p>
<p>:* Distributed by a proprietary license</p>
<p>:* Works with all versions of RAR files</p>
<p>:* <a href="https://www.rarlab.com/download.htm">WinRAR executable for Windows</a></p>
<p>UnRAR</p>
<p>:* Created by Eugene Roshal for opening up RAR files only</p>
<p>:* May not be used to reverse engineer the RAR file format and create
RAR files</p>
<p>:* Source code provided for people to implement/integrate methods of
opening RAR files</p>
<p>:* Additionally, implementations of UnRAR are available for a plethora
of operating systems</p>
<p>:* <a href="https://www.rarlab.com/rar_add.htm">Download Link</a></p>
<p>The Unarchiver</p>
<p>:* Utility made for Mac OSX to open a multitude of files, including RAR
files</p>
<p>:* Very handy for dealing with multiple file types</p>
<p>:* <a href="https://code.google.com/archive/p/theunarchiver/downloads">Source Code
Download</a></p>
<p>:* <a href="https://theunarchiver.com/">Information Website</a></p>
<p>7-Zip</p>
<p>:* Utility made for Windows applications to open a multitude of files,
including RAR files</p>
<p>:* <a href="https://7-zip.org/download.html">Download Link</a></p>
<p>There is a lot more software to open RAR files, but have been omitted
due to redundancy.</p>
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/RAR_(file_format)">Wikipedia: RAR (file format)</a></li>
<li><a href="http://acritum.com/winrar/rar-format">RAR File Format Information</a></li>
<li><a href="https://www.loc.gov/preservation/digital/formats/fdd/fdd000458.shtml">RAR Archive File Format, Version 4</a></li>
</ul>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>